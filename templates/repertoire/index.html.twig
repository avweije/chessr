{% extends 'base.html.twig' %}

{% block body %}

	<div class="w-4/5 m-auto text-center p-4">
		<div class="inline-flex rounded-md shadow-sm">
			<a href="/repertoire/white" class="px-4 py-2 text-sm font-medium {{ repertoireColor == 'white' ? 'text-blue-700' : 'text-gray-900 hover:text-blue-700' }} bg-white border border-gray-200 rounded-s-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
				White
			</a>
			<a href="/repertoire/black" class="px-4 py-2 text-sm font-medium {{ repertoireColor == 'black' ? 'text-blue-700' : 'text-gray-900 hover:text-blue-700' }} bg-white border border-gray-200 rounded-e-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
				Black
			</a>
		</div>

	</div>

	<div class="flex justify-end mt-0 mb-4">
		<button type="button" id="saveRepertoireButton" disabled class="rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:text-black disabled:bg-gray-300 disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none">
			Save to your repertoire
		</button>
	</div>

	<div class="flex items-stretch">
		<div class="flex-auto self-start w-1/2 border border-slate-300 bg-slate-200 rounded p-2 mr-2" style="max-width: 70vh;">
			<div id="board" class="border border-slate-300" data-color="{{ repertoireColor }}"></div>
		</div>
		<div class="flex-auto w-1/2 border border-slate-300 bg-slate-200 rounded p-2">

			<div class="border rounded border-slate-300 text-sm bg-white">
				<div class="flex justify-between items-center m-0 p-3 border-b border-slate-200">
					<p class="block text-sm font-bold text-gray-900">Game</p>
					<p id="statusField" class="block text-sm text-gray-900 px-5"></p>
				</div>
				<p id="pgnField" class="block text-base font-semibold text-gray-900 p-3"></p>
			</div>

			<div class="border rounded border-slate-300 text-sm bg-white">
				<p class="block text-sm font-bold text-gray-900 p-3 border-b border-slate-200">Moves</p>

				<div style="overflow-y: auto; max-height: 40vh;">
					<div class="p-3">
						<p class="block text-base text-gray-900 p-2 hidden">No repertoire moves or book moves found.</p>

						<table id="movesTable" class="table-fixed min-w-full m-0">
							<tbody></tbody>
						</table>
					</div>
				</div>
			</div>

			<div id="repertoireContainer" class="hidden border rounded border-slate-300 text-sm bg-white">
				<div class="flex justify-between items-center m-0 p-0 border-b border-slate-200">
					<p class="block text-sm font-bold p-3 text-gray-900">Repertoire</p>
					<div class="pr-2"></div>
				</div>

				<div class="flex items-center p-3">
					<div>
						<label class="block text-sm font-medium text-gray-900">Name:</label>
					</div>
					<div class="w-full mx-3">
						<input id="repertoireNameInput" type="text" name="repertoire_name" class="block w-full rounded-md border-0 py-1 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
					</div>
					<div>
						<label class="block text-sm font-medium text-gray-900">Group:</label>
					</div>
					<div class="w-full ml-3">
						<input id="repertoireGroupInput" list="repertoireGroups" name="repertoire_group" class="block w-full rounded-md border-0 py-1 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
						<datalist id="repertoireGroupDataList">
							<option value="Gambits"></option>
							<option value="Another group"></option>
						</datalist>
					</div>
				</div>

				<div class="flex justify-end p-3 pt-0">
					<button type="button" id="updateRepertoireButton" disabled class="rounded-md bg-indigo-600 mr-1 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:text-black disabled:bg-gray-300 disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none">
						Save details
					</button>
					<button type="button" id="removeRepertoireButton" class="rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:text-black disabled:bg-gray-300 disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none">
						Remove this line
					</button>
				</div>
			</div>

			<div class="border rounded border-slate-300 text-sm bg-white hidden">
				<p class="block text-sm font-bold text-gray-900 p-3 border-b border-slate-200">FEN</p>

				<div id="fenField" class="p-3"></div>
			</div>
		</div>
	</div>

{% endblock %}

{% block stylesheets %}<link rel="stylesheet" href="{{ asset('build/repertoire.css') }}">
{% endblock %}
{% block javascripts %}
	{{ encore_entry_script_tags('repertoire') }}
{% endblock %}
