{% extends 'base.html.twig' %}

{% block body %}

	<div class="w-4/5 m-auto text-center p-4">
		<div class="inline-flex rounded-md shadow-sm">
			{% if repertoireColor == "white" %}
				<a href="/repertoire/white" aria-current="page" class="px-4 py-2 text-sm font-medium text-blue-700 bg-white border border-gray-200 rounded-s-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
					White Repertoire
				</a>
				<a href="/repertoire/black" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-e-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
					Black Repertoire
				</a>
			{% else %}
				<a href="/repertoire/white" class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-s-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
					White Repertoire
				</a>
				<a href="/repertoire/black" aria-current="page" class="px-4 py-2 text-sm font-medium text-blue-700 bg-white border border-gray-200 rounded-e-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-blue-500 dark:focus:text-white">
					Black Repertoire
				</a>
			{% endif %}
		</div>

	</div>

	<div class="flex justify-end mt-0 mb-4">
		<button type="button" id="saveRepertoireButton" disabled class="rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:text-black disabled:bg-gray-300 disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none">
			Save to your repertoire
		</button>
	</div>

	<div class="flex items-stretch">
		<div class="flex-auto self-start w-1/2 border border-slate-300 bg-slate-200 rounded p-2 mr-2" style="max-width: 70vh;">
			<div id="board" class="border border-slate-300" data-color="{{ repertoireColor }}"></div>
		</div>
		<div class="flex-auto w-1/2 border border-slate-300 bg-slate-200 rounded p-2">

			<div class="border rounded border-slate-300 text-sm bg-white">
				<p class="block text-sm font-bold leading-6 text-gray-900 p-3 border-b border-slate-200">PGN</p>
				<p id="pgnField" class="block text-base text-gray-900 p-3"></p>
			</div>

			<div class="border rounded border-slate-300 text-sm bg-white">
				<p class="block text-sm font-bold leading-6 text-gray-900 p-3 border-b border-slate-200">Moves</p>

				<div style="overflow-y: auto; max-height: 50vh;">
					<div class="p-3">
						<p class="block text-base text-gray-900 p-2 hidden">No repertoire moves or book moves found.</p>

						<table id="movesTable" class="table-fixed min-w-full m-0">
							<tbody></tbody>
						</table>
					</div>
				</div>
			</div>

			<div class="border rounded border-slate-300 text-sm bg-white">
				<p class="block text-sm font-bold leading-6 text-gray-900 p-3 border-b border-slate-200">Info</p>

				<div class="flex flex-col p-2">
					<div class="flex py-2">
						<div class="w-16 font-bold px-2">Status:</div>
						<div id="statusField" class="px-2"></div>
					</div>
					<div class="flex py-2">
						<div class="w-16 font-bold px-2">FEN:</div>
						<div id="fenField" class="px-2"></div>
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock %}

{% block stylesheets %}<link rel="stylesheet" href="{{ asset('build/repertoire.css') }}">
{% endblock %}
{% block javascripts %}
	{{ encore_entry_script_tags('repertoire') }}
{% endblock %}
